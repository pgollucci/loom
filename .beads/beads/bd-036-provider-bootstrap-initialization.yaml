id: bd-036
type: task
title: P0 - Provider bootstrap initialization on registration
description: |
  When a provider is registered, Arbiter must bootstrap it by discovering the
  correct OpenAI-compatible (vLLM) or Ollama-compatible endpoint/port, loading
  models, negotiating the best model, persisting metadata, and starting the
  heartbeat workflow.

  Requirements
  - Provider status starts as pending.
  - Provider bootstrap discovers the correct port/protocol (OpenAI /v1 or Ollama).
  - Provider bootstrap lists available models and negotiates the best model.
  - Persist selected_model, selection_reason, model_score, and endpoint updates.
  - Provider status transitions to healthy or failed with an error string.
  - Heartbeat workflow starts and continues to keep status up to date.

  Acceptance Criteria
  - Newly registered providers become healthy automatically when reachable.
  - Newly registered providers become failed (with error) when unreachable.
  - Dispatch avoids non-healthy providers.

status: closed
priority: 0
project_id: arbiter
assigned_to: null
blocked_by: []
blocks: []
parent: null
children: []
tags:
  - p0
  - providers
  - bootstrap
  - reliability
  - temporal
created_at: 2026-01-19T23:30:00Z
updated_at: 2026-01-19T23:45:00Z
closed_at: 2026-01-19T23:45:00Z
context:
  source: user-request
