id: bd-020
type: task
title: "P2 - Tests: model-name parsing + negotiation ranking + scoring"
description: |
  Add tests to prevent regressions in model parsing and selection.

  Requirements
  - Unit tests for model-name parser:
    - verify correct extraction for:
      - Qwen/Qwen3-Coder-480B-A35B-Instruct
      - Qwen/Qwen3-Coder-30B-A3B-Instruct
      - NVIDIA-Nemotron-3-Nano-30B-A3B-BF16
  - Unit tests for ranking/scoring logic (deterministic inputs).
  - Integration-style test using a mock OpenAI-compatible provider:
    - /models returns a mix of recommended and non-recommended models
    - negotiation selects the highest-scoring recommended model

  Acceptance Criteria
  - Tests cover the required model names and negotiation behavior.
  - CI remains green.

status: open
priority: 2
project_id: arbiter
assigned_to: null
blocked_by:
  - bd-015
  - bd-016
blocks: []
parent: bd-014
children: []
tags:
  - p2
  - tests
  - models
  - providers
  - negotiation
created_at: 2026-01-19T08:30:00Z
updated_at: 2026-01-19T08:30:00Z
closed_at: null
context:
  source: user-request
