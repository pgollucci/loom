id: bd-008
type: task
title: Add CEO persona + tie-break/deadlock decision workflow (human-in-the-loop)
description: |
  Create a special "CEO" persona representing the human project owner who resolves
  high-level or tie-breaking decisions when other agent personas cannot decide or
  reach a deadlock.

  Requirements
  - CEO is always a human (not an autonomous agent).
  - CEO interacts via Web UI, API, or by manually editing bead files in the repo.
  - When a deadlock/tie-break is detected, work must be routed to the CEO.
  - The CEO must receive precise instructions on what decision is required.
  - The CEO must be able to:
    - Comment on the bead/decision
    - Mark: approved | denied | needs_more_info
  - If "needs_more_info", the bead should be returned to the last agent who owned
    it (previous assigned_to) and that agent should resume work / respond.

  Implementation Notes
  - Add a new persona at: personas/examples/ceo/{PERSONA.md,AI_START_HERE.md}
  - Extend decision beads (or add a new decision resolution state machine) to
    capture CEO decisions and rationale:
    - decision: approve|deny|needs_more_info
    - rationale/comment (required)
    - returned_to (agent id) when needs_more_info
  - Add API endpoints/UI support for:
    - Viewing the decision instructions
    - Adding comments
    - Submitting the CEO resolution (approve/deny/needs_more_info)
    - Returning the bead to the prior agent when needs_more_info
  - Add deadlock/tie-break detection rules (initial heuristic is fine):
    - conflicting agent recommendations on same decision bead
    - decision bead timeout / repeated flip-flops
    - explicit "escalate_to_ceo" action

  Acceptance Criteria
  - CEO persona exists and is discoverable via personas listing.
  - A decision bead can be escalated to CEO and shows clear, actionable prompts.
  - CEO can resolve a decision via UI and via API.
  - CEO can mark needs_more_info and the system reassigns/unblocks work back to
    the last agent who owned the bead.
  - End-to-end test covers: escalate -> CEO approve/deny/needs_more_info.

status: closed
priority: 1
project_id: arbiter
assigned_to: null
blocked_by: []
blocks: []
parent: null
children: []
tags:
  - persona
  - decision
  - human-in-the-loop
  - workflow
  - p1
created_at: 2026-01-19T06:17:15Z
updated_at: 2026-01-19T08:00:00Z
closed_at: 2026-01-19T08:00:00Z
context:
  source: user-request
  affected_areas: personas, decisions, beads, api, web-ui
