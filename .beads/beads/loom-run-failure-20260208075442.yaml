id: loom-run-failure-20260208075442
type: task
title: "P0 - run failed"
description: |
  Command: docker compose up --build
  Exit code: 1

  Output:
    time="2026-02-07T23:54:41-08:00" level=warning msg="The \"LOOM_PASSWORD\" variable is not set. Defaulting to a blank string."
     Image loom:latest Building 
     Image loom-loom-test Building 
    #1 [internal] load local bake definitions
    #1 reading from stdin 914B done
    #1 DONE 0.0s
    
    #2 [loom-test internal] load build definition from Dockerfile
    #2 DONE 0.0s
    
    #2 [loom internal] load build definition from Dockerfile
    #2 transferring dockerfile: 2.83kB done
    #2 DONE 0.0s
    
    #3 [loom-test internal] load metadata for docker.io/library/golang:1.25-alpine
    #3 ...
    
    #4 [loom internal] load metadata for docker.io/library/alpine:latest
    #4 DONE 0.2s
    
    #3 [loom-test internal] load metadata for docker.io/library/golang:1.25-alpine
    #3 DONE 0.2s
    
    #5 [loom-test internal] load .dockerignore
    #5 transferring context: 353B done
    #5 DONE 0.0s
    
    #6 [loom stage-1  1/16] FROM docker.io/library/alpine:latest@sha256:25109184c71bdad752c8312a8623239686a9a2071e8825f20acb8f2198c3f659
    #6 resolve docker.io/library/alpine:latest@sha256:25109184c71bdad752c8312a8623239686a9a2071e8825f20acb8f2198c3f659 0.0s done
    #6 DONE 0.0s
    
    #7 [loom-test builder  1/10] FROM docker.io/library/golang:1.25-alpine@sha256:f6751d823c26342f9506c03797d2527668d095b0a15f1862cddb4d927a7a4ced
    #7 resolve docker.io/library/golang:1.25-alpine@sha256:f6751d823c26342f9506c03797d2527668d095b0a15f1862cddb4d927a7a4ced 0.0s done
    #7 DONE 0.0s
    
    #8 [loom-test internal] load build context
    #8 transferring context: 382.93kB 0.1s done
    #8 DONE 0.1s
    
    #9 [loom stage-1 12/16] RUN mkdir -p /home/loom/.ssh &&     chown -R loom:loom /home/loom/.ssh &&     chmod 700 /home/loom/.ssh
    #9 CACHED
    
    #10 [loom stage-1  6/16] COPY --from=builder /go/bin/bd /usr/local/bin/bd
    #10 CACHED
    
    #11 [loom stage-1 11/16] COPY --from=builder /build/web/static /app/web/static
    #11 CACHED
    
    #12 [loom stage-1  7/16] COPY --from=builder /go/bin/dolt /usr/local/bin/dolt
    #12 CACHED
    
    #13 [loom stage-1  5/16] COPY --from=builder /build/loom /app/loom
    #13 CACHED
    
    #14 [loom stage-1 10/16] COPY --from=builder /build/workflows /app/workflows
    #14 CACHED
    
    #15 [loom stage-1  4/16] WORKDIR /app
    #15 CACHED
    
    #16 [loom stage-1 13/16] RUN mkdir -p /app/src && chown loom:loom /app/src
    #16 CACHED
    
    #17 [loom stage-1  8/16] COPY --from=builder /build/config.yaml /app/config.yaml
    #17 CACHED
    
    #18 [loom stage-1 15/16] RUN chown -R loom:loom /app
    #18 CACHED
    
    #19 [loom stage-1  2/16] RUN apk add --no-cache ca-certificates tzdata git openssh-client
    #19 CACHED
    
    #20 [loom stage-1 14/16] RUN mkdir -p /app/data && chown loom:loom /app/data
    #20 CACHED
    
    #21 [loom stage-1  9/16] COPY --from=builder /build/personas /app/personas
    #21 CACHED
    
    #22 [loom stage-1  3/16] RUN addgroup -g 1000 loom &&     adduser -D -u 1000 -G loom loom
    #22 CACHED
    
    #23 [loom stage-1 16/16] RUN git config --global core.sshCommand "ssh -i /home/loom/.ssh/id_ecdsa -o UserKnownHostsFile=/home/loom/.ssh/known_hosts"
    #23 CACHED
    
    #24 [loom builder  4/10] COPY go.mod ./
    #24 CACHED
    
    #25 [loom builder  6/10] RUN go mod download
    #25 CACHED
    
    #26 [loom builder  2/10] RUN apk add --no-cache git ca-certificates tzdata gcc g++ musl-dev openssh-client icu-dev
    #26 CACHED
    
    #27 [loom builder  9/10] COPY . .
    #27 CACHED
    
    #28 [loom builder  8/10] RUN DOLT_VERSION=$(wget -qO- https://api.github.com/repos/dolthub/dolt/releases/latest | grep tag_name | cut -d '"' -f 4) &&     wget -q "https://github.com/dolthub/dolt/releases/download/${DOLT_VERSION}/dolt-linux-amd64.tar.gz" &&     tar -xzf dolt-linux-amd64.tar.gz &&     mv dolt-linux-amd64/bin/dolt /go/bin/dolt &&     rm -rf dolt-linux-amd64 dolt-linux-amd64.tar.gz
    #28 CACHED
    
    #29 [loom builder  7/10] RUN git clone --depth 1 https://github.com/steveyegge/beads.git /tmp/beads &&     cd /tmp/beads &&     CGO_ENABLED=1 go build -o /go/bin/bd ./cmd/bd &&     rm -rf /tmp/beads
    #29 CACHED
    
    #30 [loom builder  5/10] COPY go.sum ./
    #30 CACHED
    
    #31 [loom builder  3/10] WORKDIR /build
    #31 CACHED
    
    #32 [loom builder 10/10] RUN CGO_ENABLED=1 GOOS=linux go build     -ldflags="-w -s"     -o loom     ./cmd/loom
    #32 CACHED
    
    #33 [loom-test] exporting to image
    #33 exporting layers done
    #33 exporting manifest sha256:2b09b6dd05e53d316fa14a345a6b628bb62f3f810c8efdc84475c65754987411 done
    #33 exporting config sha256:7bf08fb4cecd5b365cb02bd650cf7e73d519d17447a92306788e350b6d99c2be done
    #33 exporting attestation manifest sha256:18f41595b7236a2247c60c3e421d252729981198aa6c7bb296cb8ac636779cca 0.0s done
    #33 exporting manifest list sha256:4aa5c46b311f1bce3376819e7001445dcc888e48f88dedf26a6b0f6216ce37a5 0.0s done
    #33 naming to docker.io/library/loom-loom-test:latest done
    #33 unpacking to docker.io/library/loom-loom-test:latest done
    #33 DONE 0.1s
    
    #34 [loom] exporting to image
    #34 exporting layers done
    #34 exporting manifest sha256:63bf6ac7b36ba1858febbffce49ef12b772f767fa9e434899d65e0699c0fd622 done
    #34 exporting config sha256:ee4fbe305a6a89e64d1b72971b938b9c4d7956657ea553c26ce27a30a62b9690 done
    #34 exporting attestation manifest sha256:ab6d63639d2f0387ecc8680cf78f5984e323b4b67139776a9efac1bb6930d1a8 0.0s done
    #34 exporting manifest list sha256:2209f6252c45122cd03888342056b8eccbb3259f59311fc7cdfd8df25e1147b7 0.0s done
    #34 naming to docker.io/library/loom:latest done
    #34 unpacking to docker.io/library/loom:latest 0.0s done
    #34 DONE 0.1s
    
    #35 [loom-test] resolving provenance for metadata file
    #35 DONE 0.0s
    
    #36 [loom] resolving provenance for metadata file
    #36 DONE 0.0s
     Image loom:latest Built 
     Image loom-loom-test Built 
     Network loom_loom-network Creating 
     Network loom_loom-network Created 
     Volume loom_temporal-db-data Creating 
     Volume loom_temporal-db-data Created 
     Volume loom_loom-db Creating 
     Volume loom_loom-db Created 
     Volume loom_loom-beads Creating 
     Volume loom_loom-beads Created 
     Container temporal-postgresql Creating 
     Container temporal-postgresql Error response from daemon: Conflict. The container name "/temporal-postgresql" is already in use by container "6c40acf521de09abdd89b84df71949d8561136fb3f363c9616bb1c07636dcb22". You have to remove (or rename) that container to be able to reuse that name. 
    Error response from daemon: Conflict. The container name "/temporal-postgresql" is already in use by container "6c40acf521de09abdd89b84df71949d8561136fb3f363c9616bb1c07636dcb22". You have to remove (or rename) that container to be able to reuse that name.

status: open
priority: 0
project_id: loom
assigned_to: null
blocked_by: []
blocks: []
parent: null
children: []
tags:
  - p0
  - failure
  - run
created_at: 2026-02-08T07:54:42Z
updated_at: 2026-02-08T07:54:42Z
closed_at: null
context:
  source: makefile
  target: run
